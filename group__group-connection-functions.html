<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OZO 「お象」: Related functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OZO 「お象」
   </div>
   <div id="projectbrief">Boost.Asio and libpq based asynchronous PostgreSQL unofficial header-only C++17 client library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group-connection-functions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Related functions<div class="ingroups"><a class="el" href="group__group-connection.html">Database connection</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> related functions. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga52fc6c466b400947792f9b73f3775799"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga52fc6c466b400947792f9b73f3775799"><td class="memTemplItemLeft" align="right" valign="top">constexpr decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga52fc6c466b400947792f9b73f3775799">ozo::unwrap_connection</a> (T &amp;&amp;conn) noexcept</td></tr>
<tr class="memdesc:ga52fc6c466b400947792f9b73f3775799"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unwrap connection if wrapped with Nullable.  <a href="group__group-connection-functions.html#ga52fc6c466b400947792f9b73f3775799">More...</a><br /></td></tr>
<tr class="separator:ga52fc6c466b400947792f9b73f3775799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb0ed4133d9b3c003f782c91ca46cc33"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:gafb0ed4133d9b3c003f782c91ca46cc33"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn) noexcept</td></tr>
<tr class="memdesc:gafb0ed4133d9b3c003f782c91ca46cc33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get native connection handle object.  <a href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">More...</a><br /></td></tr>
<tr class="separator:gafb0ed4133d9b3c003f782c91ca46cc33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c99d8eedbda009b5ec1783ecc1b8073"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:ga4c99d8eedbda009b5ec1783ecc1b8073"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga4c99d8eedbda009b5ec1783ecc1b8073">ozo::get_executor</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn) noexcept</td></tr>
<tr class="memdesc:ga4c99d8eedbda009b5ec1783ecc1b8073"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the executor associated with the object.  <a href="group__group-connection-functions.html#ga4c99d8eedbda009b5ec1783ecc1b8073">More...</a><br /></td></tr>
<tr class="separator:ga4c99d8eedbda009b5ec1783ecc1b8073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6f38bd0e9211b1676a6ef05fa5e24f5"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gaf6f38bd0e9211b1676a6ef05fa5e24f5"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#gaf6f38bd0e9211b1676a6ef05fa5e24f5">ozo::connection_bad</a> (const T &amp;conn) noexcept</td></tr>
<tr class="memdesc:gaf6f38bd0e9211b1676a6ef05fa5e24f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether the connection is in bad state.  <a href="group__group-connection-functions.html#gaf6f38bd0e9211b1676a6ef05fa5e24f5">More...</a><br /></td></tr>
<tr class="separator:gaf6f38bd0e9211b1676a6ef05fa5e24f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d3c90effeb56a4e233fcfa959ce5e6e"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:ga7d3c90effeb56a4e233fcfa959ce5e6e"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga7d3c90effeb56a4e233fcfa959ce5e6e">ozo::connection_good</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn) noexcept</td></tr>
<tr class="memdesc:ga7d3c90effeb56a4e233fcfa959ce5e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if connection state is not bad.  <a href="group__group-connection-functions.html#ga7d3c90effeb56a4e233fcfa959ce5e6e">More...</a><br /></td></tr>
<tr class="separator:ga7d3c90effeb56a4e233fcfa959ce5e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1d7e52e998faef0eb5ea3767ca1ca70"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:gad1d7e52e998faef0eb5ea3767ca1ca70"><td class="memTemplItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#gad1d7e52e998faef0eb5ea3767ca1ca70">ozo::error_message</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn)</td></tr>
<tr class="memdesc:gad1d7e52e998faef0eb5ea3767ca1ca70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get native libpq error message.  <a href="group__group-connection-functions.html#gad1d7e52e998faef0eb5ea3767ca1ca70">More...</a><br /></td></tr>
<tr class="separator:gad1d7e52e998faef0eb5ea3767ca1ca70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27c523e2a2ef378b8a87681bdb58598b"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:ga27c523e2a2ef378b8a87681bdb58598b"><td class="memTemplItemLeft" align="right" valign="top">const auto &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga27c523e2a2ef378b8a87681bdb58598b">ozo::get_error_context</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn)</td></tr>
<tr class="memdesc:ga27c523e2a2ef378b8a87681bdb58598b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get additional error context.  <a href="group__group-connection-functions.html#ga27c523e2a2ef378b8a87681bdb58598b">More...</a><br /></td></tr>
<tr class="separator:ga27c523e2a2ef378b8a87681bdb58598b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b069c74413860f5a83c7734369e8d4f"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:ga8b069c74413860f5a83c7734369e8d4f"><td class="memTemplItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga8b069c74413860f5a83c7734369e8d4f">ozo::get_database</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn)</td></tr>
<tr class="memdesc:ga8b069c74413860f5a83c7734369e8d4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the database name of the active connection.  <a href="group__group-connection-functions.html#ga8b069c74413860f5a83c7734369e8d4f">More...</a><br /></td></tr>
<tr class="separator:ga8b069c74413860f5a83c7734369e8d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac851377885ef4de0a02dafbbec9479e8"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:gac851377885ef4de0a02dafbbec9479e8"><td class="memTemplItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#gac851377885ef4de0a02dafbbec9479e8">ozo::get_host</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn)</td></tr>
<tr class="memdesc:gac851377885ef4de0a02dafbbec9479e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the host connected of the active connection.  <a href="group__group-connection-functions.html#gac851377885ef4de0a02dafbbec9479e8">More...</a><br /></td></tr>
<tr class="separator:gac851377885ef4de0a02dafbbec9479e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c066c3393d1b3ee7404cb25bc310717"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:ga0c066c3393d1b3ee7404cb25bc310717"><td class="memTemplItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga0c066c3393d1b3ee7404cb25bc310717">ozo::get_port</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn)</td></tr>
<tr class="memdesc:ga0c066c3393d1b3ee7404cb25bc310717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port connected of the active connection.  <a href="group__group-connection-functions.html#ga0c066c3393d1b3ee7404cb25bc310717">More...</a><br /></td></tr>
<tr class="separator:ga0c066c3393d1b3ee7404cb25bc310717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ef1ab566b1576a905eb583badb5519f"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:ga9ef1ab566b1576a905eb583badb5519f"><td class="memTemplItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga9ef1ab566b1576a905eb583badb5519f">ozo::get_user</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn)</td></tr>
<tr class="memdesc:ga9ef1ab566b1576a905eb583badb5519f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the user name of the active connection.  <a href="group__group-connection-functions.html#ga9ef1ab566b1576a905eb583badb5519f">More...</a><br /></td></tr>
<tr class="separator:ga9ef1ab566b1576a905eb583badb5519f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78b04d12aef637c72c7f224a31bc3ffd"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:ga78b04d12aef637c72c7f224a31bc3ffd"><td class="memTemplItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga78b04d12aef637c72c7f224a31bc3ffd">ozo::get_password</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;conn)</td></tr>
<tr class="memdesc:ga78b04d12aef637c72c7f224a31bc3ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the password of the active connection.  <a href="group__group-connection-functions.html#ga78b04d12aef637c72c7f224a31bc3ffd">More...</a><br /></td></tr>
<tr class="separator:ga78b04d12aef637c72c7f224a31bc3ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab47cb829921abe2e3a7097362874e415"><td class="memTemplParams" colspan="2">template&lt;typename T , typename TimeConstraint , typename CompletionToken &gt; </td></tr>
<tr class="memitem:gab47cb829921abe2e3a7097362874e415"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#gab47cb829921abe2e3a7097362874e415">ozo::get_connection</a> (T &amp;&amp;provider, TimeConstraint time_constraint, <a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;token)</td></tr>
<tr class="memdesc:gab47cb829921abe2e3a7097362874e415"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a connection object from connection provider with time constaint.  <a href="group__group-connection-functions.html#gab47cb829921abe2e3a7097362874e415">More...</a><br /></td></tr>
<tr class="separator:gab47cb829921abe2e3a7097362874e415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga028b0ea9a7c469b7570a921c056c4fce"><td class="memTemplParams" colspan="2">template&lt;typename T , typename CompletionToken &gt; </td></tr>
<tr class="memitem:ga028b0ea9a7c469b7570a921c056c4fce"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga028b0ea9a7c469b7570a921c056c4fce">ozo::get_connection</a> (T &amp;&amp;provider, <a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;token)</td></tr>
<tr class="memdesc:ga028b0ea9a7c469b7570a921c056c4fce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a connection from connection provider.  <a href="group__group-connection-functions.html#ga028b0ea9a7c469b7570a921c056c4fce">More...</a><br /></td></tr>
<tr class="separator:ga028b0ea9a7c469b7570a921c056c4fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade38accf3cd380655f3669ea554c69d6"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:gade38accf3cd380655f3669ea554c69d6"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">error_code</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#gade38accf3cd380655f3669ea554c69d6">ozo::close_connection</a> (<a class="el" href="interface_connection.html">Connection</a> &amp;&amp;conn)</td></tr>
<tr class="memdesc:gade38accf3cd380655f3669ea554c69d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close connection to the database immediately.  <a href="group__group-connection-functions.html#gade38accf3cd380655f3669ea554c69d6">More...</a><br /></td></tr>
<tr class="separator:gade38accf3cd380655f3669ea554c69d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga789daa5236b547e63790b823c166ab68"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:ga789daa5236b547e63790b823c166ab68"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga789daa5236b547e63790b823c166ab68">ozo::defer_close_connection</a> (<a class="el" href="interface_connection.html">Connection</a> *conn)</td></tr>
<tr class="memdesc:ga789daa5236b547e63790b823c166ab68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close connection to the database when leaving the scope.  <a href="group__group-connection-functions.html#ga789daa5236b547e63790b823c166ab68">More...</a><br /></td></tr>
<tr class="separator:ga789daa5236b547e63790b823c166ab68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa181caaac32d1ff64490aabd67a706a"><td class="memTemplParams" colspan="2">template&lt;typename Connection &gt; </td></tr>
<tr class="memitem:gaaa181caaac32d1ff64490aabd67a706a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__group-connection-types.html#gac5048ffe954fd6d7ef890582b6d8a616">transaction_status</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#gaaa181caaac32d1ff64490aabd67a706a">ozo::get_transaction_status</a> (<a class="el" href="interface_connection.html">Connection</a> &amp;&amp;conn)</td></tr>
<tr class="memdesc:gaaa181caaac32d1ff64490aabd67a706a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current status of a <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object.  <a href="group__group-connection-functions.html#gaaa181caaac32d1ff64490aabd67a706a">More...</a><br /></td></tr>
<tr class="separator:gaaa181caaac32d1ff64490aabd67a706a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81a77bddfe0de4028babda24cfbaf7d9"><td class="memTemplParams" colspan="2">template&lt;typename OidMap  = empty_oid_map, typename Statistics  = no_statistics&gt; </td></tr>
<tr class="memitem:ga81a77bddfe0de4028babda24cfbaf7d9"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#ga81a77bddfe0de4028babda24cfbaf7d9">make_connection_info</a> (std::string conn_str, const OidMap &amp;oid_map=OidMap{}, Statistics statistics=Statistics{})</td></tr>
<tr class="memdesc:ga81a77bddfe0de4028babda24cfbaf7d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs <code><a class="el" href="classozo_1_1connection__info.html" title="Connection source to a single host.">ozo::connection_info</a></code> <code><a class="el" href="interface_connection_source.html" title="Connection source concept">ConnectionSource</a></code>.  <a href="group__group-connection-functions.html#ga81a77bddfe0de4028babda24cfbaf7d9">More...</a><br /></td></tr>
<tr class="separator:ga81a77bddfe0de4028babda24cfbaf7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad51b6b003c9f959c2bdeff4156c9ba82"><td class="memTemplParams" colspan="2">template&lt;typename ConnectionSource , typename ThreadSafety  = decltype(thread_safe)&gt; </td></tr>
<tr class="memitem:gad51b6b003c9f959c2bdeff4156c9ba82"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-connection-functions.html#gad51b6b003c9f959c2bdeff4156c9ba82">make_connection_pool</a> (<a class="el" href="interface_connection_source.html">ConnectionSource</a> &amp;&amp;source, const <a class="el" href="structozo_1_1connection__pool__config.html">connection_pool_config</a> &amp;config, const ThreadSafety &amp;<a class="el" href="structozo_1_1thread__safety.html">thread_safety</a>=ThreadSafety{})</td></tr>
<tr class="memdesc:gad51b6b003c9f959c2bdeff4156c9ba82"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> pool construct helper function.  <a href="group__group-connection-functions.html#gad51b6b003c9f959c2bdeff4156c9ba82">More...</a><br /></td></tr>
<tr class="separator:gad51b6b003c9f959c2bdeff4156c9ba82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gade38accf3cd380655f3669ea554c69d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade38accf3cd380655f3669ea554c69d6">&#9670;&nbsp;</a></span>close_connection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">error_code</a> ozo::close_connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_connection.html">Connection</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close connection to the database immediately. </p>
<p>This function closes connection to the database immediately. </p><dl class="section note"><dt>Note</dt><dd>No query cancel operation will be made while closing connection. Use the function with attention - non cancelled query can still produce a work on server-side and consume resources. So it is better to use <code><a class="el" href="group__group-requests-functions.html#gac2f75325031cebef24cb0e7d21391ece" title="Cancel execution of current request on a database backend.">ozo::cancel()</a></code> function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> to be closed </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#ga52fc6c466b400947792f9b73f3775799">ozo::unwrap_connection()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__group-connection-functions.html#ga789daa5236b547e63790b823c166ab68">ozo::defer_close_connection()</a>.</p>

</div>
</div>
<a id="gaf6f38bd0e9211b1676a6ef05fa5e24f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6f38bd0e9211b1676a6ef05fa5e24f5">&#9670;&nbsp;</a></span>connection_bad()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ozo::connection_bad </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine whether the connection is in bad state. </p>
<p>Alias to <code>unwrap_connection(conn).is_bad()</code>. See the <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> documentation for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if connection is in bad or null state, <code>false</code> - otherwise. </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__group-connection-functions.html#ga7d3c90effeb56a4e233fcfa959ce5e6e">ozo::connection_good()</a>.</p>

</div>
</div>
<a id="ga7d3c90effeb56a4e233fcfa959ce5e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d3c90effeb56a4e233fcfa959ce5e6e">&#9670;&nbsp;</a></span>connection_good()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ozo::connection_good </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if connection state is not bad. </p>
<p>Alias to <code>!ozo::connection_bad(conn)</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>false</code> if connection is in bad state, <code>true</code> - otherwise </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#gaf6f38bd0e9211b1676a6ef05fa5e24f5">ozo::connection_bad()</a>.</p>

</div>
</div>
<a id="ga789daa5236b547e63790b823c166ab68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga789daa5236b547e63790b823c166ab68">&#9670;&nbsp;</a></span>defer_close_connection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto ozo::defer_close_connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_connection.html">Connection</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close connection to the database when leaving the scope. </p>
<p>This function creates RAII guard object which calls <code><a class="el" href="group__group-connection-functions.html#gade38accf3cd380655f3669ea554c69d6" title="Close connection to the database immediately.">ozo::close_connection()</a></code> at the end of its scope. If nullptr is passed as argument or connection is null recursive no <code><a class="el" href="group__group-connection-functions.html#gade38accf3cd380655f3669ea554c69d6" title="Close connection to the database immediately.">ozo::close_connection()</a></code> would be made.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; pointer on a <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> to be closed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd></dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> guard = <a class="code" href="group__group-connection-functions.html#ga789daa5236b547e63790b823c166ab68">defer_close_connection</a>(should_be_closed ? std::addressof(conn) : <span class="keyword">nullptr</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Process the connection</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
<p class="reference">References <a class="el" href="group__group-connection-functions.html#gade38accf3cd380655f3669ea554c69d6">ozo::close_connection()</a>, and <a class="el" href="group__group-core-functions.html#ga602abbe1728381084559b85c3835b9bb">ozo::is_null_recursive()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classozo_1_1failover_1_1basic__try.html#a405d022e2b5d3f942eccb6b4074e5afe">ozo::failover::basic_try&lt; Options, Context &gt;::get_next_try()</a>.</p>

</div>
</div>
<a id="gad1d7e52e998faef0eb5ea3767ca1ca70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1d7e52e998faef0eb5ea3767ca1ca70">&#9670;&nbsp;</a></span>error_message()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ozo::error_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get native libpq error message. </p>
<p>Underlying libpq provides additional textual context for different errors which can be while interacting via connection. This function gives access for such messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> to get message from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>std::string_view</code> with a message. </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle()</a>, and <a class="el" href="group__group-core-functions.html#ga602abbe1728381084559b85c3835b9bb">ozo::is_null_recursive()</a>.</p>

</div>
</div>
<a id="ga028b0ea9a7c469b7570a921c056c4fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga028b0ea9a7c469b7570a921c056c4fce">&#9670;&nbsp;</a></span>get_connection() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename CompletionToken &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_connection </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a connection from connection provider. </p>
<p>This function is a shortcut to <code>ozo::get_connection(provider, ozo::none, token)</code> call.</p>
<dl class="section note"><dt>Note</dt><dd>The function does not particitate in ADL since could be implemented via functional object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">provider</td><td>&mdash; <code><a class="el" href="interface_connection_provider.html" title="Connection provider concept">ConnectionProvider</a></code> to get connection from. </td></tr>
    <tr><td class="paramname">token</td><td>&mdash; operation <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deduced from <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </dd></dl>

<p class="reference">References <a class="el" href="group__group-core-functions.html#gafcdc8ea45e26815baaeebfa88313cd23">ozo::get_operation_initiator()</a>, and <a class="el" href="group__group-core-types.html#ga5dedeecb1a2753e4569e16a69b048608">ozo::none</a>.</p>

</div>
</div>
<a id="gab47cb829921abe2e3a7097362874e415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab47cb829921abe2e3a7097362874e415">&#9670;&nbsp;</a></span>get_connection() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename TimeConstraint , typename CompletionToken &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_connection </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeConstraint&#160;</td>
          <td class="paramname"><em>time_constraint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a connection object from connection provider with time constaint. </p>
<p>Retrives a connection object from connection provider within specified time constaint. The default implementation for the <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object forwards this object and resets it's error context.</p>
<dl class="section note"><dt>Note</dt><dd>The function does not particitate in ADL since could be implemented via functional object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">provider</td><td>&mdash; <code><a class="el" href="interface_connection_provider.html" title="Connection provider concept">ConnectionProvider</a></code> to get connection from. </td></tr>
    <tr><td class="paramname">time_constraint</td><td>&mdash; #TimeConstraint for the operation. </td></tr>
    <tr><td class="paramname">token</td><td>&mdash; operation <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deduced from <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>.</dd></dl>
<dl class="section user"><dt>Customization point</dt><dd></dd></dl>
<p>This is a customization point of <code><a class="el" href="interface_connection_provider.html" title="Connection provider concept">ConnectionProvider</a></code>. By default <code><a class="el" href="interface_connection_provider.html" title="Connection provider concept">ConnectionProvider</a></code> should have <code>async_get_connection()</code> member function with signature: </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TimeConstra<span class="keywordtype">int</span>&gt;</div>
<div class="line"><span class="keywordtype">void</span> async_get_connection(TimeConstraint t, <a class="code" href="interface_handler.html">Handler</a>&amp;&amp; h);</div>
</div><!-- fragment --><p>This behaviour can be customized via <code>async_get_connection_impl</code> specialization. E.g. for custom implementation of <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> customization may looks like this (<em>exposition only</em>):</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TimeConstrain, <span class="keyword">typename</span> ...Ts&gt;</div>
<div class="line"><span class="keyword">struct </span>async_get_connection_impl&lt;MyConnection&lt;Ts...&gt;, TimeConstrain&gt; {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Conn, <span class="keyword">typename</span> Handler&gt;</div>
<div class="line">    <span class="keyword">static</span> constexpr <span class="keywordtype">void</span> apply(Conn&amp;&amp; c, TimeConstraint t, <a class="code" href="interface_handler.html">Handler</a>&amp;&amp; h) {</div>
<div class="line">        c-&gt;prepareForNextOp();</div>
<div class="line">        async_get_connection_impl_default&lt;MyConnection&lt;Ts...&gt;, TimeConstrain&gt;::apply(</div>
<div class="line">            std::forward&lt;Conn&gt;(c), t, std::forward&lt;Handler&gt;(h)</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga8b069c74413860f5a83c7734369e8d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b069c74413860f5a83c7734369e8d4f">&#9670;&nbsp;</a></span>get_database()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ozo::get_database </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the database name of the active connection. </p>
<p>See documentation for the underlying <a href="https://www.postgresql.org/docs/current/libpq-status.html">PQdb</a> function for additional information.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> should not be is null recursive.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; active connection to a database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string_view &mdash; string view with database name. </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle()</a>.</p>

</div>
</div>
<a id="ga27c523e2a2ef378b8a87681bdb58598b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27c523e2a2ef378b8a87681bdb58598b">&#9670;&nbsp;</a></span>get_error_context()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const auto &amp; ozo::get_error_context </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get additional error context. </p>
<p>Alias to <code>unwrap_connection(conn).<a class="el" href="group__group-connection-functions.html#ga27c523e2a2ef378b8a87681bdb58598b" title="Get additional error context.">get_error_context()</a></code>. See. <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> documentation for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object which is not in null recursive state </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>reference on additional context </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#ga52fc6c466b400947792f9b73f3775799">ozo::unwrap_connection()</a>.</p>

</div>
</div>
<a id="ga4c99d8eedbda009b5ec1783ecc1b8073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c99d8eedbda009b5ec1783ecc1b8073">&#9670;&nbsp;</a></span>get_executor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto ozo::get_executor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the executor associated with the object. </p>
<p>Alias to <code>unwrap_connection(conn).<a class="el" href="group__group-connection-functions.html#ga4c99d8eedbda009b5ec1783ecc1b8073" title="Get the executor associated with the object.">get_executor()</a></code>. See the <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> documentation for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>executor associated with the object. </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#ga52fc6c466b400947792f9b73f3775799">ozo::unwrap_connection()</a>.</p>

</div>
</div>
<a id="gac851377885ef4de0a02dafbbec9479e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac851377885ef4de0a02dafbbec9479e8">&#9670;&nbsp;</a></span>get_host()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ozo::get_host </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the host connected of the active connection. </p>
<p>See documentation for the underlying <a href="https://www.postgresql.org/docs/current/libpq-status.html">PQhost</a> function for additional information.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> should not be is null recursive.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; active connection to a database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string_view &mdash; string view with host. </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle()</a>.</p>

</div>
</div>
<a id="gafb0ed4133d9b3c003f782c91ca46cc33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb0ed4133d9b3c003f782c91ca46cc33">&#9670;&nbsp;</a></span>get_native_handle()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto ozo::get_native_handle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get native connection handle object. </p>
<p>Alias to <code>unwrap_connection(conn).native_handle()</code>. See the <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> documentation for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>native connection handle. </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#ga52fc6c466b400947792f9b73f3775799">ozo::unwrap_connection()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__group-connection-functions.html#gad1d7e52e998faef0eb5ea3767ca1ca70">ozo::error_message()</a>, <a class="el" href="group__group-requests-functions.html#ga1106db25df90df046e088ba91b97194f">ozo::get_cancel_handle()</a>, <a class="el" href="group__group-connection-functions.html#ga8b069c74413860f5a83c7734369e8d4f">ozo::get_database()</a>, <a class="el" href="group__group-connection-functions.html#gac851377885ef4de0a02dafbbec9479e8">ozo::get_host()</a>, <a class="el" href="group__group-connection-functions.html#ga78b04d12aef637c72c7f224a31bc3ffd">ozo::get_password()</a>, <a class="el" href="group__group-connection-functions.html#ga0c066c3393d1b3ee7404cb25bc310717">ozo::get_port()</a>, and <a class="el" href="group__group-connection-functions.html#ga9ef1ab566b1576a905eb583badb5519f">ozo::get_user()</a>.</p>

</div>
</div>
<a id="ga78b04d12aef637c72c7f224a31bc3ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78b04d12aef637c72c7f224a31bc3ffd">&#9670;&nbsp;</a></span>get_password()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ozo::get_password </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the password of the active connection. </p>
<p>See documentation for the underlying <a href="https://www.postgresql.org/docs/current/libpq-status.html">PQpass</a> function for additional information.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> should not be is null recursive.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; active connection to a database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string_view &mdash; string view with password. </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle()</a>.</p>

</div>
</div>
<a id="ga0c066c3393d1b3ee7404cb25bc310717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c066c3393d1b3ee7404cb25bc310717">&#9670;&nbsp;</a></span>get_port()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ozo::get_port </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the port connected of the active connection. </p>
<p>See documentation for the underlying <a href="https://www.postgresql.org/docs/current/libpq-status.html">PQport</a> function for additional information.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> should not be is null recursive.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; active connection to a database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string_view &mdash; string view with port. </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle()</a>.</p>

</div>
</div>
<a id="gaaa181caaac32d1ff64490aabd67a706a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa181caaac32d1ff64490aabd67a706a">&#9670;&nbsp;</a></span>get_transaction_status()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group-connection-types.html#gac5048ffe954fd6d7ef890582b6d8a616">transaction_status</a> ozo::get_transaction_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_connection.html">Connection</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns current status of a <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object. </p>
<p>Returns current status of specified <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code>. If the <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> is #Nullable in null-state returns <code><a class="el" href="group__group-connection-types.html#ggac5048ffe954fd6d7ef890582b6d8a616aad921d60486366258809553a3db49a4a" title="transaction state is unknown due to bad or invalid connection object, reflects PQTRANS_UNKNOWN">ozo::transaction_status::unknown</a></code>. In other case it returns value associated with libpq connection transaction status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transaction_status &mdash; status of the <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>&mdash; in case of unsupported value returned by libpq function. It is better to use <code>-Werror</code> compiler flag to prevent such possability by checking enumeration coverage in the <code>switch-case</code> statement. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9ef1ab566b1576a905eb583badb5519f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ef1ab566b1576a905eb583badb5519f">&#9670;&nbsp;</a></span>get_user()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ozo::get_user </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the user name of the active connection. </p>
<p>See documentation for the underlying <a href="https://www.postgresql.org/docs/current/libpq-status.html">PQuser</a> function for additional information.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> should not be is null recursive.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; active connection to a database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string_view &mdash; string view with user name. </dd></dl>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle()</a>.</p>

</div>
</div>
<a id="ga81a77bddfe0de4028babda24cfbaf7d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81a77bddfe0de4028babda24cfbaf7d9">&#9670;&nbsp;</a></span>make_connection_info()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename OidMap  = empty_oid_map, typename Statistics  = no_statistics&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto make_connection_info </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>conn_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const OidMap &amp;&#160;</td>
          <td class="paramname"><em>oid_map</em> = <code>OidMap{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Statistics&#160;</td>
          <td class="paramname"><em>statistics</em> = <code>Statistics{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs <code><a class="el" href="classozo_1_1connection__info.html" title="Connection source to a single host.">ozo::connection_info</a></code> <code><a class="el" href="interface_connection_source.html" title="Connection source concept">ConnectionSource</a></code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn_str</td><td>&mdash; standard libpq connection string. </td></tr>
    <tr><td class="paramname">OidMap</td><td>&mdash; oid map for user defined types. </td></tr>
    <tr><td class="paramname">statistics</td><td>&mdash; statistics to collect for a connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="classozo_1_1connection__info.html" title="Connection source to a single host.">ozo::connection_info</a></code> specialization. </dd></dl>

</div>
</div>
<a id="gad51b6b003c9f959c2bdeff4156c9ba82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad51b6b003c9f959c2bdeff4156c9ba82">&#9670;&nbsp;</a></span>make_connection_pool()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConnectionSource , typename ThreadSafety  = decltype(thread_safe)&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto make_connection_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_connection_source.html">ConnectionSource</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structozo_1_1connection__pool__config.html">connection_pool_config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ThreadSafety &amp;&#160;</td>
          <td class="paramname"><em>thread_safety</em> = <code>ThreadSafety{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> pool construct helper function. </p>
<p>Helper function which creates connection pool based on <code><a class="el" href="interface_connection_source.html" title="Connection source concept">ConnectionSource</a></code> and configuration parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>&mdash; connection source object which is being used to create connection to a database. </td></tr>
    <tr><td class="paramname">config</td><td>&mdash; pool configuration. </td></tr>
    <tr><td class="paramname"><a class="el" href="structozo_1_1thread__safety.html" title="defines admissibility to use in multithreaded environment without additional synchronization">thread_safety</a></td><td>&mdash; admissibility to use in multithreaded environment without additional synchronization. Thread safe by default (<code><a class="el" href="structozo_1_1thread__safety.html" title="defines admissibility to use in multithreaded environment without additional synchronization">ozo::thread_safety</a>&lt;true&gt;</code>).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="classozo_1_1connection__pool.html" title="Connection pool implementation.">ozo::connection_pool</a></code> object. </dd></dl>

</div>
</div>
<a id="ga52fc6c466b400947792f9b73f3775799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52fc6c466b400947792f9b73f3775799">&#9670;&nbsp;</a></span>unwrap_connection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr decltype(auto) ozo::unwrap_connection </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unwrap connection if wrapped with Nullable. </p>
<p>Unwraps wrapped connection recursively. Returns unwrapped connection object.</p>
<p><b>Customization Point</b></p>
<p>This is customization point for the <a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a> enhancement. To customize it it is better to specialize <code>ozo::unwrap_connection_impl</code> template for custom type. E.g. such overload is used for the <code><a class="el" href="classozo_1_1pooled__connection.html" title="Pool bound model for Connection concept.">ozo::pooled_connection</a></code> of this library. The deafult implementation of the function is perfect forwarding. And may look like this (<em>for exposition only - actual implementation may be different</em>): </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>unwrap_connection_impl {</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Conn&gt;</div>
<div class="line">    <span class="keyword">static</span> constexpr decltype(<span class="keyword">auto</span>) apply(Conn&amp;&amp; conn) noexcept {</div>
<div class="line">        <span class="keywordflow">return</span> std::forward&lt;Conn&gt;(conn);</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><p> If you are specialize the template for your own parameterized connection wrapper implementation do not forget to call unwrap_connection for the underlying connection type. E.g.: </p><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>unwrap_connection_impl&lt;CustomWrapper&lt;T&gt;&gt;{</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Conn&gt;</div>
<div class="line">    <span class="keyword">static</span> constexpr decltype(<span class="keyword">auto</span>) apply(Conn&amp;&amp; conn) noexcept {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="group__group-connection-functions.html#ga52fc6c466b400947792f9b73f3775799">unwrap_connection</a>(conn.underlying());</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><p> Function overload works as well, but it is safer to specialize the template.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; wrapped or unwrapped <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>unwrapped <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> object reference </dd></dl>

<p class="reference">Referenced by <a class="el" href="group__group-connection-functions.html#gade38accf3cd380655f3669ea554c69d6">ozo::close_connection()</a>, <a class="el" href="group__group-connection-functions.html#ga27c523e2a2ef378b8a87681bdb58598b">ozo::get_error_context()</a>, <a class="el" href="group__group-connection-functions.html#ga4c99d8eedbda009b5ec1783ecc1b8073">ozo::get_executor()</a>, and <a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__group-connection-functions_html_ga52fc6c466b400947792f9b73f3775799"><div class="ttname"><a href="group__group-connection-functions.html#ga52fc6c466b400947792f9b73f3775799">ozo::unwrap_connection</a></div><div class="ttdeci">constexpr decltype(auto) unwrap_connection(T &amp;&amp;conn) noexcept</div><div class="ttdoc">Unwrap connection if wrapped with Nullable.</div><div class="ttdef"><b>Definition:</b> connection.h:75</div></div>
<div class="ttc" id="agroup__group-connection-functions_html_ga789daa5236b547e63790b823c166ab68"><div class="ttname"><a href="group__group-connection-functions.html#ga789daa5236b547e63790b823c166ab68">ozo::defer_close_connection</a></div><div class="ttdeci">auto defer_close_connection(Connection *conn)</div><div class="ttdoc">Close connection to the database when leaving the scope.</div><div class="ttdef"><b>Definition:</b> connection.h:891</div></div>
<div class="ttc" id="ainterface_handler_html"><div class="ttname"><a href="interface_handler.html">Handler</a></div><div class="ttdoc">Handler concept.</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
