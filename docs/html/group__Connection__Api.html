<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="DoxyPress 1.3.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OZO: API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxypress.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by DoxyPress -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OZO
   </div>
   <div id="projectbrief">Asychronous header-only Boost.Asio-based PostgreSQL C++17 type-safe library. And yes, it is fast!</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by DoxyPress 1.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="https://github.com/yandex/ozo"><span>GitHub</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">API<div class="ingroups"><a class="el" href="group__Connection.html">Connection</a></div></div>  </div>
  <div class="clear-floats"></div>
</div><!--header-->
<div class="contents">

<p>OZO connection public API description.  
</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf6f38bd0e9211b1676a6ef05fa5e24f5"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gaf6f38bd0e9211b1676a6ef05fa5e24f5"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#gaf6f38bd0e9211b1676a6ef05fa5e24f5">ozo::connection_bad</a> (const T &amp;conn) noexcept</td></tr>
<tr class="memdesc:gaf6f38bd0e9211b1676a6ef05fa5e24f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if connection state is bad.  <a href="group__Connection__Api.html#gaf6f38bd0e9211b1676a6ef05fa5e24f5">More...</a><br /></td></tr>
<tr class="separator:gaf6f38bd0e9211b1676a6ef05fa5e24f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad408c2b5b86f7246963a84a8ceae29af"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gad408c2b5b86f7246963a84a8ceae29af"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#gad408c2b5b86f7246963a84a8ceae29af">ozo::connection_good</a> (const T &amp;conn) noexcept</td></tr>
<tr class="memdesc:gad408c2b5b86f7246963a84a8ceae29af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if connection state is not bad.  <a href="group__Connection__Api.html#gad408c2b5b86f7246963a84a8ceae29af">More...</a><br /></td></tr>
<tr class="separator:gad408c2b5b86f7246963a84a8ceae29af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1d570854c32a38adcad99baf73e0baa"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gae1d570854c32a38adcad99baf73e0baa"><td class="memTemplItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#gae1d570854c32a38adcad99baf73e0baa">ozo::error_message</a> (T &amp;&amp;conn)</td></tr>
<tr class="memdesc:gae1d570854c32a38adcad99baf73e0baa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives native libpq error message.  <a href="group__Connection__Api.html#gae1d570854c32a38adcad99baf73e0baa">More...</a><br /></td></tr>
<tr class="separator:gae1d570854c32a38adcad99baf73e0baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b48ff27d7b2258c853a422382ef8e6a"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga3b48ff27d7b2258c853a422382ef8e6a"><td class="memTemplItemLeft" align="right" valign="top">const auto &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#ga3b48ff27d7b2258c853a422382ef8e6a">ozo::get_error_context</a> (const T &amp;conn)</td></tr>
<tr class="memdesc:ga3b48ff27d7b2258c853a422382ef8e6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives additional error context from OZO.  <a href="group__Connection__Api.html#ga3b48ff27d7b2258c853a422382ef8e6a">More...</a><br /></td></tr>
<tr class="separator:ga3b48ff27d7b2258c853a422382ef8e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f5d09758b44edee68c9d935d5b1743e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga4f5d09758b44edee68c9d935d5b1743e"><td class="memTemplItemLeft" align="right" valign="top">decltype (auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#ga4f5d09758b44edee68c9d935d5b1743e">ozo::get_handle</a> (T &amp;&amp;conn) noexcept</td></tr>
<tr class="memdesc:ga4f5d09758b44edee68c9d935d5b1743e"><td class="mdescLeft">&#160;</td><td class="mdescRight">PostgreSQL connection handle.  <a href="group__Connection__Api.html#ga4f5d09758b44edee68c9d935d5b1743e">More...</a><br /></td></tr>
<tr class="separator:ga4f5d09758b44edee68c9d935d5b1743e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98ac30384108be0ee6dbcaf423fb0805"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga98ac30384108be0ee6dbcaf423fb0805"><td class="memTemplItemLeft" align="right" valign="top">decltype (auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#ga98ac30384108be0ee6dbcaf423fb0805">ozo::get_io_context</a> (T &amp;conn) noexcept</td></tr>
<tr class="memdesc:ga98ac30384108be0ee6dbcaf423fb0805"><td class="mdescLeft">&#160;</td><td class="mdescRight">IO context for a connection is bound to.  <a href="group__Connection__Api.html#ga98ac30384108be0ee6dbcaf423fb0805">More...</a><br /></td></tr>
<tr class="separator:ga98ac30384108be0ee6dbcaf423fb0805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24645170fd76e45eb90b28e8a07be516"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga24645170fd76e45eb90b28e8a07be516"><td class="memTemplItemLeft" align="right" valign="top">decltype (auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#ga24645170fd76e45eb90b28e8a07be516">ozo::get_native_handle</a> (T &amp;&amp;conn) noexcept</td></tr>
<tr class="memdesc:ga24645170fd76e45eb90b28e8a07be516"><td class="mdescLeft">&#160;</td><td class="mdescRight">PostgreSQL native connection handle.  <a href="group__Connection__Api.html#ga24645170fd76e45eb90b28e8a07be516">More...</a><br /></td></tr>
<tr class="separator:ga24645170fd76e45eb90b28e8a07be516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b658d4fea3b6a7c198496e86c0d4dbc"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga4b658d4fea3b6a7c198496e86c0d4dbc"><td class="memTemplItemLeft" align="right" valign="top">decltype (auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#ga4b658d4fea3b6a7c198496e86c0d4dbc">ozo::get_oid_map</a> (T &amp;&amp;conn) noexcept</td></tr>
<tr class="memdesc:ga4b658d4fea3b6a7c198496e86c0d4dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access to a <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> OID map.  <a href="group__Connection__Api.html#ga4b658d4fea3b6a7c198496e86c0d4dbc">More...</a><br /></td></tr>
<tr class="separator:ga4b658d4fea3b6a7c198496e86c0d4dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac73206550d24c0301498aab52dab59c6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gac73206550d24c0301498aab52dab59c6"><td class="memTemplItemLeft" align="right" valign="top">decltype (auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#gac73206550d24c0301498aab52dab59c6">ozo::get_socket</a> (T &amp;&amp;conn) noexcept</td></tr>
<tr class="memdesc:gac73206550d24c0301498aab52dab59c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Socket stream object of the connection.  <a href="group__Connection__Api.html#gac73206550d24c0301498aab52dab59c6">More...</a><br /></td></tr>
<tr class="separator:gac73206550d24c0301498aab52dab59c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6485bbea04200bc9d6b335932b09d6b4"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga6485bbea04200bc9d6b335932b09d6b4"><td class="memTemplItemLeft" align="right" valign="top">decltype (auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#ga6485bbea04200bc9d6b335932b09d6b4">ozo::get_statistics</a> (T &amp;&amp;conn) noexcept</td></tr>
<tr class="memdesc:ga6485bbea04200bc9d6b335932b09d6b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access to a <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> statistics.  <a href="group__Connection__Api.html#ga6485bbea04200bc9d6b335932b09d6b4">More...</a><br /></td></tr>
<tr class="separator:ga6485bbea04200bc9d6b335932b09d6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60a19a236a8286f86f69b55533c1df25"><td class="memTemplParams" colspan="2">template&lt;typename T , typename  = Require&lt;Connection&lt;T&gt;&gt;&gt; </td></tr>
<tr class="memitem:ga60a19a236a8286f86f69b55533c1df25"><td class="memTemplItemLeft" align="right" valign="top">decltype (auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#ga60a19a236a8286f86f69b55533c1df25">ozo::get_timer</a> (T &amp;&amp;conn) noexcept</td></tr>
<tr class="memdesc:ga60a19a236a8286f86f69b55533c1df25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access to a timer for connection operations.  <a href="group__Connection__Api.html#ga60a19a236a8286f86f69b55533c1df25">More...</a><br /></td></tr>
<tr class="separator:ga60a19a236a8286f86f69b55533c1df25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0814c7ac526064fb9d597ed59a0efe6c"><td class="memTemplParams" colspan="2">template&lt;typename T , typename IoContext &gt; </td></tr>
<tr class="memitem:ga0814c7ac526064fb9d597ed59a0efe6c"><td class="memTemplItemLeft" align="right" valign="top">error_code&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#ga0814c7ac526064fb9d597ed59a0efe6c">ozo::rebind_io_context</a> (T &amp;conn, IoContext &amp;io)</td></tr>
<tr class="memdesc:ga0814c7ac526064fb9d597ed59a0efe6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebinds io_context for the connection.  <a href="group__Connection__Api.html#ga0814c7ac526064fb9d597ed59a0efe6c">More...</a><br /></td></tr>
<tr class="separator:ga0814c7ac526064fb9d597ed59a0efe6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4517ffae4244f57bc112d0d3b8f5602"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gad4517ffae4244f57bc112d0d3b8f5602"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#gad4517ffae4244f57bc112d0d3b8f5602">ozo::reset_error_context</a> (T &amp;conn)</td></tr>
<tr class="memdesc:gad4517ffae4244f57bc112d0d3b8f5602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset connection OZO-related error context.  <a href="group__Connection__Api.html#gad4517ffae4244f57bc112d0d3b8f5602">More...</a><br /></td></tr>
<tr class="separator:gad4517ffae4244f57bc112d0d3b8f5602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad57058f0aa7e00df34f027b015b80a1a"><td class="memTemplParams" colspan="2">template&lt;typename T , typename Ctx &gt; </td></tr>
<tr class="memitem:gad57058f0aa7e00df34f027b015b80a1a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Connection__Api.html#gad57058f0aa7e00df34f027b015b80a1a">ozo::set_error_context</a> (T &amp;conn, Ctx &amp;&amp;ctx)</td></tr>
<tr class="memdesc:gad57058f0aa7e00df34f027b015b80a1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set connection OZO-related error context.  <a href="group__Connection__Api.html#gad57058f0aa7e00df34f027b015b80a1a">More...</a><br /></td></tr>
<tr class="separator:gad57058f0aa7e00df34f027b015b80a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf6f38bd0e9211b1676a6ef05fa5e24f5"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ozo::connection_bad </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates if connection state is bad. If conn is Nullable - checks for null state first via operator !(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if connection is in bad or null state, <code>false</code> - otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="gad408c2b5b86f7246963a84a8ceae29af"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ozo::connection_good </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Indicates if connection state is not bad.</p>
<p>See <a class="el" href="group__Connection__Api.html#gaf6f38bd0e9211b1676a6ef05fa5e24f5" title="Indicates if connection state is bad. ">connection_bad</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>false</code> if connection is in bad state, <code>true</code> - otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="gae1d570854c32a38adcad99baf73e0baa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string_view ozo::error_message </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Underlying libpq provides additional textual context for different errors which can be while interacting via connection. This function gives access for such messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to get message from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>std::string_view</code> contains a message </dd></dl>

</div>
</div>
<a class="anchor" id="ga3b48ff27d7b2258c853a422382ef8e6a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const auto&amp; ozo::get_error_context </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like libpq OZO provides additional context for different errors which can be while interacting via connection. This function gives access for such context.</p>
<p>See also:</p><ul>
<li><a class="el" href="group__Connection__Api.html#gad57058f0aa7e00df34f027b015b80a1a" title="Set connection OZO-related error context. ">set_error_context</a></li>
<li><a class="el" href="group__Connection__Api.html#gad4517ffae4244f57bc112d0d3b8f5602" title="Reset connection OZO-related error context. ">reset_error_context</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to get context from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>std::string</code> contains a context </dd></dl>

</div>
</div>
<a class="anchor" id="ga4f5d09758b44edee68c9d935d5b1743e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_handle </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>PostgreSQL native connection handle wrapped with RAII smart pointer. In common cases you do not need this function. It's purpose is to support extention and customization of the library. See <a class="el" href="group__Connection__Api.html#ga24645170fd76e45eb90b28e8a07be516" title="PostgreSQL native connection handle. ">get_native_handle</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>refernce to a wrapped PostgreSQL connection handle </dd></dl>

</div>
</div>
<a class="anchor" id="ga98ac30384108be0ee6dbcaf423fb0805"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_io_context </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>io_context</code> of socket stream object of the connection </dd></dl>

</div>
</div>
<a class="anchor" id="ga24645170fd76e45eb90b28e8a07be516"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_native_handle </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>PostgreSQL native connection handle. In common cases you do not need this function. It's purpose is to support extention and customization of the library. So if you want do extend or customize some behaviour via original libpq calls this is what you really need. In other cases this is not the function what you are looking for.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PQConn* &mdash; native handle </dd></dl>

</div>
</div>
<a class="anchor" id="ga4b658d4fea3b6a7c198496e86c0d4dbc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_oid_map </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function gives access to a <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> OID map, which represents mapping of custom types to its' OIDs in a database connected to.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to access OID map of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&mdash; OID map of the <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gac73206550d24c0301498aab52dab59c6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_socket </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Socket stream object of the connection, see underlying <a class="el" href="group__Connection__Concept.html#ga94995d675f4f7113047af0d133f99d9f" title="Get the connection socket object. ">get_connection_socket</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>socket stream object of the connection </dd></dl>

</div>
</div>
<a class="anchor" id="ga6485bbea04200bc9d6b335932b09d6b4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_statistics </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>**This feature is not implemeted yet***</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to access statistics of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&mdash; statistics of the <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga60a19a236a8286f86f69b55533c1df25"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename  = Require&lt;Connection&lt;T&gt;&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::get_timer </td>
          <td>(</td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function is dedicated to a timer access. Since our API provides time-outs for IO operations it needs a timer. After weeks of experiments we decide to keep timer in the <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a>. So this function should provide entity with <a href="https://www.boost.org/doc/libs/1_66_0/doc/html/boost_asio/reference/basic_waitable_timer.html">boost::asio::basic_waitable_timer</a> compatible interface (in common cases it is a reference to <a href="https://www.boost.org/doc/libs/1_66_0/doc/html/boost_asio/reference/steady_timer.html">boost::asio::steady_timer</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to access statistics of </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&mdash; return reference or proxy for a timer </dd></dl>

</div>
</div>
<a class="anchor" id="ga0814c7ac526064fb9d597ed59a0efe6c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename IoContext &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">error_code ozo::rebind_io_context </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IoContext &amp;&#160;</td>
          <td class="paramname"><em>io</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> which must be rebound </td></tr>
    <tr><td class="paramname">io</td><td>&mdash; io_context to which conn must be bound </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>error_code</code> in case of error has been occured </dd></dl>

</div>
</div>
<a class="anchor" id="gad4517ffae4244f57bc112d0d3b8f5602"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ozo::reset_error_context </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function resets OZO-related error context to default.</p>
<p>See also:</p><ul>
<li><a class="el" href="group__Connection__Api.html#ga3b48ff27d7b2258c853a422382ef8e6a" title="Gives additional error context from OZO. ">get_error_context</a></li>
<li><a class="el" href="group__Connection__Api.html#gad57058f0aa7e00df34f027b015b80a1a" title="Set connection OZO-related error context. ">set_error_context</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to reset context to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad57058f0aa7e00df34f027b015b80a1a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Ctx &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ozo::set_error_context </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Ctx &amp;&amp;&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like libpq OZO provides additional context for errors. This function sets such context for the specified connection.</p>
<p>See also:</p><ul>
<li><a class="el" href="group__Connection__Api.html#ga3b48ff27d7b2258c853a422382ef8e6a" title="Gives additional error context from OZO. ">get_error_context</a></li>
<li><a class="el" href="group__Connection__Api.html#gad4517ffae4244f57bc112d0d3b8f5602" title="Reset connection OZO-related error context. ">reset_error_context</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>&mdash; <a class="el" href="group__Connection__Concept.html#ga9b549bf74e3c13c97f24493211722d9d" title="Database Connection concept. ">Connection</a> to set context to </td></tr>
    <tr><td class="paramname">ctx</td><td>&mdash; context to set, now only <code>std::string</code> is supported </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- Generated by DoxyPress 1.3.1 -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 30 2018 12:50:50 for OZO &nbsp; by &#160;<a href="http://www.copperspice.com/documentation-doxypress.html">
<img class="footer" src="doxypress.png" alt="DoxyPress"/></a> 1.3.1
</small></address>
</body>
</html>
