<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OZO 「お象」: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OZO 「お象」
   </div>
   <div id="projectbrief">Boost.Asio and libpq based asynchronous PostgreSQL unofficial header-only C++17 client library.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group-requests-functions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions<div class="ingroups"><a class="el" href="group__group-requests.html">Database requests</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Database requests related functions. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1106db25df90df046e088ba91b97194f"><td class="memTemplParams" colspan="2">template&lt;typename Connection , typename Executor  = boost::asio::system_executor&gt; </td></tr>
<tr class="memitem:ga1106db25df90df046e088ba91b97194f"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classozo_1_1cancel__handle.html">cancel_handle</a>&lt; Executor &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#ga1106db25df90df046e088ba91b97194f">ozo::get_cancel_handle</a> (const <a class="el" href="interface_connection.html">Connection</a> &amp;<a class="el" href="classozo_1_1connection.html">connection</a>, Executor &amp;&amp;executor=Executor{})</td></tr>
<tr class="memdesc:ga1106db25df90df046e088ba91b97194f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get cancel handle for the cancel operation.  <a href="group__group-requests-functions.html#ga1106db25df90df046e088ba91b97194f">More...</a><br /></td></tr>
<tr class="separator:ga1106db25df90df046e088ba91b97194f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2f75325031cebef24cb0e7d21391ece"><td class="memTemplParams" colspan="2">template&lt;typename Executor , typename TimeConstraint , typename CancelCompletionToken &gt; </td></tr>
<tr class="memitem:gac2f75325031cebef24cb0e7d21391ece"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#gac2f75325031cebef24cb0e7d21391ece">ozo::cancel</a> (<a class="el" href="classozo_1_1cancel__handle.html">cancel_handle</a>&lt; Executor &gt; &amp;&amp;handle, io_context &amp;io, TimeConstraint time_constraint, CancelCompletionToken &amp;&amp;token)</td></tr>
<tr class="memdesc:gac2f75325031cebef24cb0e7d21391ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel execution of current request on a database backend.  <a href="group__group-requests-functions.html#gac2f75325031cebef24cb0e7d21391ece">More...</a><br /></td></tr>
<tr class="separator:gac2f75325031cebef24cb0e7d21391ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5df24be758a6019dc6d1d6184024ca35"><td class="memTemplParams" colspan="2">template&lt;typename Executor , typename CancelCompletionToken &gt; </td></tr>
<tr class="memitem:ga5df24be758a6019dc6d1d6184024ca35"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#ga5df24be758a6019dc6d1d6184024ca35">ozo::cancel</a> (<a class="el" href="classozo_1_1cancel__handle.html">cancel_handle</a>&lt; Executor &gt; &amp;&amp;handle, CancelCompletionToken &amp;&amp;token)</td></tr>
<tr class="memdesc:ga5df24be758a6019dc6d1d6184024ca35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel execution of current request on a database backend.  <a href="group__group-requests-functions.html#ga5df24be758a6019dc6d1d6184024ca35">More...</a><br /></td></tr>
<tr class="separator:ga5df24be758a6019dc6d1d6184024ca35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga347747678f21ede443893c1a0a9439d7"><td class="memTemplParams" colspan="2">template&lt;typename ConnectionProvider , typename BinaryQueryConvertible , typename TimeConstraint , typename CompletionToken &gt; </td></tr>
<tr class="memitem:ga347747678f21ede443893c1a0a9439d7"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#ga347747678f21ede443893c1a0a9439d7">ozo::execute</a> (<a class="el" href="interface_connection_provider.html">ConnectionProvider</a> &amp;&amp;provider, <a class="el" href="interfaceozo_1_1_binary_query_convertible.html">BinaryQueryConvertible</a> &amp;&amp;query, TimeConstraint time_constraint, <a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;token)</td></tr>
<tr class="memdesc:ga347747678f21ede443893c1a0a9439d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes query with no result data expected.  <a href="group__group-requests-functions.html#ga347747678f21ede443893c1a0a9439d7">More...</a><br /></td></tr>
<tr class="separator:ga347747678f21ede443893c1a0a9439d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7156732f8e7a141c5c1eaf5fa718c36"><td class="memTemplParams" colspan="2">template&lt;typename ConnectionProvider , typename BinaryQueryConvertible , typename CompletionToken &gt; </td></tr>
<tr class="memitem:gac7156732f8e7a141c5c1eaf5fa718c36"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#gac7156732f8e7a141c5c1eaf5fa718c36">ozo::execute</a> (<a class="el" href="interface_connection_provider.html">ConnectionProvider</a> &amp;&amp;provider, <a class="el" href="interfaceozo_1_1_binary_query_convertible.html">BinaryQueryConvertible</a> &amp;&amp;query, <a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;token)</td></tr>
<tr class="memdesc:gac7156732f8e7a141c5c1eaf5fa718c36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes query with no result data expected.  <a href="group__group-requests-functions.html#gac7156732f8e7a141c5c1eaf5fa718c36">More...</a><br /></td></tr>
<tr class="separator:gac7156732f8e7a141c5c1eaf5fa718c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac093ec8cf86103a3588072066767c418"><td class="memTemplParams" colspan="2">template&lt;typename ConnectionProvider , typename BinaryQueryConvertible , typename TimeConstraint , typename Out , typename CompletionToken &gt; </td></tr>
<tr class="memitem:gac093ec8cf86103a3588072066767c418"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#gac093ec8cf86103a3588072066767c418">ozo::request</a> (<a class="el" href="interface_connection_provider.html">ConnectionProvider</a> &amp;&amp;provider, <a class="el" href="interfaceozo_1_1_binary_query_convertible.html">BinaryQueryConvertible</a> &amp;&amp;query, TimeConstraint time_constraint, Out out, <a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;token)</td></tr>
<tr class="memdesc:gac093ec8cf86103a3588072066767c418"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes query and retrives a result from a database with time constraint.  <a href="group__group-requests-functions.html#gac093ec8cf86103a3588072066767c418">More...</a><br /></td></tr>
<tr class="separator:gac093ec8cf86103a3588072066767c418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae49e5fcc96dfa7f120a39d7d099acb5e"><td class="memTemplParams" colspan="2">template&lt;typename ConnectionProvider , typename BinaryQueryConvertible , typename Out , typename CompletionToken &gt; </td></tr>
<tr class="memitem:gae49e5fcc96dfa7f120a39d7d099acb5e"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#gae49e5fcc96dfa7f120a39d7d099acb5e">ozo::request</a> (<a class="el" href="interface_connection_provider.html">ConnectionProvider</a> &amp;&amp;provider, <a class="el" href="interfaceozo_1_1_binary_query_convertible.html">BinaryQueryConvertible</a> &amp;&amp;query, Out out, <a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;token)</td></tr>
<tr class="memdesc:gae49e5fcc96dfa7f120a39d7d099acb5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes query and retrives a result from a database.  <a href="group__group-requests-functions.html#gae49e5fcc96dfa7f120a39d7d099acb5e">More...</a><br /></td></tr>
<tr class="separator:gae49e5fcc96dfa7f120a39d7d099acb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e8f5ef58a370e79b7e554cd09fbc705"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga3e8f5ef58a370e79b7e554cd09fbc705"><td class="memTemplItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#ga3e8f5ef58a370e79b7e554cd09fbc705">ozo::into</a> (T &amp;v)</td></tr>
<tr class="memdesc:ga3e8f5ef58a370e79b7e554cd09fbc705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shortcut for create result container back inserter.  <a href="group__group-requests-functions.html#ga3e8f5ef58a370e79b7e554cd09fbc705">More...</a><br /></td></tr>
<tr class="separator:ga3e8f5ef58a370e79b7e554cd09fbc705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8cc125abd2b1db20d327aa333662d3b"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gaa8cc125abd2b1db20d327aa333662d3b"><td class="memTemplItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__group-requests-functions.html#gaa8cc125abd2b1db20d327aa333662d3b">ozo::into</a> (<a class="el" href="classozo_1_1basic__result.html">basic_result</a>&lt; T &gt; &amp;v) noexcept</td></tr>
<tr class="memdesc:gaa8cc125abd2b1db20d327aa333662d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shortcut for create reference wrapper for <code><a class="el" href="classozo_1_1basic__result.html" title="Database raw result representation.">ozo::basic_result</a></code>.  <a href="group__group-requests-functions.html#gaa8cc125abd2b1db20d327aa333662d3b">More...</a><br /></td></tr>
<tr class="separator:gaa8cc125abd2b1db20d327aa333662d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5df24be758a6019dc6d1d6184024ca35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5df24be758a6019dc6d1d6184024ca35">&#9670;&nbsp;</a></span>cancel() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Executor , typename CancelCompletionToken &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto ozo::cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classozo_1_1cancel__handle.html">cancel_handle</a>&lt; Executor &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancelCompletionToken &amp;&amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel execution of current request on a database backend. </p>
<p>This version executes cancel operation without a time constraint.</p>
<dl class="section note"><dt>Note</dt><dd>The function does not particitate in ADL since could be implemented via functional object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&mdash; handle for the cancel operation, should be obtained via <code>ozo::get_cancel_handle</code>. </td></tr>
    <tr><td class="paramname">token</td><td>&mdash; valid <code>CancelCompletionToken</code> (see time constraint version of <code><a class="el" href="group__group-requests-functions.html#ga5df24be758a6019dc6d1d6184024ca35" title="Cancel execution of current request on a database backend.">ozo::cancel()</a></code> for details). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deduced from <code>CancelCompletionToken</code>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Use it carefully because you can't cancel this <code><a class="el" href="group__group-requests-functions.html#ga5df24be758a6019dc6d1d6184024ca35" title="Cancel execution of current request on a database backend.">cancel()</a></code> operation. The only option is to stop wait. </dd></dl>

</div>
</div>
<a id="gac2f75325031cebef24cb0e7d21391ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2f75325031cebef24cb0e7d21391ece">&#9670;&nbsp;</a></span>cancel() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Executor , typename TimeConstraint , typename CancelCompletionToken &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto ozo::cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classozo_1_1cancel__handle.html">cancel_handle</a>&lt; Executor &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">io_context &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeConstraint&#160;</td>
          <td class="paramname"><em>time_constraint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancelCompletionToken &amp;&amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel execution of current request on a database backend. </p>
<p>Sometimes you need to cancel request to a database due to operation time constraint. In case of closing connection, PostgreSQL backend will continue to execute request anyway. So to prevent such waste of database resources it is best practice to cancel the execution of the request by sending special command.</p>
<dl class="section note"><dt>Note</dt><dd>The function does not particitate in ADL since could be implemented via functional object. </dd>
<dd>
If a timer hits the specified time constraint only waiting process would be canceled. The cancel operation itself would continue to execute since there is no way to cancel it. User should take it into account planning to use specified executor. </dd>
<dd>
It is not recommended to use <a class="el" href="group__group-requests-functions.html#ga5df24be758a6019dc6d1d6184024ca35" title="Cancel execution of current request on a database backend.">cancel()</a> with external connection poolers like pgbouncer or <a href="https://github.com/yandex/odyssey">Odyssey</a> out of explicit transaction (with autocommit feature), since it could lead to a canceling of concurrent query, which shares the same backend.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&mdash; handle for the cancel operation, should be obtained via <code>ozo::get_cancel_handle</code>. </td></tr>
    <tr><td class="paramname">io</td><td>&mdash; io_context on which the operation timer will run. </td></tr>
    <tr><td class="paramname">time_constraint</td><td>&mdash; time constraint to wait for the operation complete. </td></tr>
    <tr><td class="paramname">token</td><td>&mdash; valid <code>CancelCompletionToken</code> which is described below. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deduced from <code>CancelCompletionToken</code>.</dd></dl>
<h3>CancelCompletionToken</h3>
<p>It determines how to continue with an asynchronous cancel operation result when the operation is complete.</p>
<p>Valid <code>CancelCompletionToken</code> is one of:</p><ul>
<li>Callback with signature <code>void(ozo::error_code ec, std::string error_message)</code>. In this case <code><a class="el" href="group__group-requests-functions.html#ga5df24be758a6019dc6d1d6184024ca35" title="Cancel execution of current request on a database backend.">ozo::cancel()</a></code> returns <code>void</code>. First argument provides error code, second - error message from the undelying <code>libpq</code> library.</li>
<li><a href="https://www.boost.org/doc/libs/1_66_0/doc/html/boost_asio/reference/use_future.html"><code>boost::asio::use_future</code></a> &mdash; to get a future on the asynchronous operation result. In this case <code><a class="el" href="group__group-requests-functions.html#ga5df24be758a6019dc6d1d6184024ca35" title="Cancel execution of current request on a database backend.">ozo::cancel()</a></code> will return <code>std::future&lt;void&gt;</code>. Additional error message from the undelying <code>libpq</code> library will be lost. For this reason the completion token is not recommended for use in production code. In case of synchronization is needed it is better to use a callback with promise and future are used directely.</li>
<li><a href="https://www.boost.org/doc/libs/1_66_0/doc/html/boost_asio/reference/basic_yield_context.html"><code>boost::asio::yield_context</code></a> &mdash; to use async operation with Boost.Coroutine. Asynchronous function in this case will return <code>std::string</code>. <dl class="section note"><dt>Note</dt><dd>To get error message from the undelying <code>libpq</code> library error code <a href="https://www.boost.org/doc/libs/1_66_0/doc/html/boost_asio/reference/basic_yield_context/operator_lb__rb_.html">binding</a> should be used to avoid exception in case of error.</dd></dl>
</li>
<li>any other type supported by <a href="https://www.boost.org/doc/libs/1_66_0/doc/html/boost_asio/reference/async_result.html"><code>boost::asio::async_result</code></a>.</li>
</ul>
<h3>Example</h3>
<div class="fragment"><div class="line">ozo::io_context io;</div>
<div class="line">boost::asio::steady_timer timer(io);</div>
<div class="line"> </div>
<div class="line">boost::asio::spawn(io, [&amp;io, &amp;timer](<span class="keyword">auto</span> yield){</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="classozo_1_1connection__info.html">ozo::connection_info</a> conn_info(OZO_PG_TEST_CONNINFO);</div>
<div class="line">    <a class="code" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">ozo::error_code</a> ec;</div>
<div class="line">    <span class="keyword">auto</span> conn = <a class="code" href="group__group-connection-functions.html#gab47cb829921abe2e3a7097362874e415">ozo::get_connection</a>(conn_info[io], yield[ec]);</div>
<div class="line">    assert(!ec);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// We want to cancel query if it takes too long</span></div>
<div class="line">    boost::asio::spawn(yield, [&amp;io, &amp;timer, handle = <a class="code" href="group__group-requests-functions.html#ga1106db25df90df046e088ba91b97194f">get_cancel_handle</a>(conn)](<span class="keyword">auto</span> yield) <span class="keyword">mutable</span> {</div>
<div class="line">        <span class="comment">// Wait a second for the request result</span></div>
<div class="line">        timer.expires_after(1s);</div>
<div class="line">        timer.async_wait(yield);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// In this case guard is needed since cancel will be served with</span></div>
<div class="line">        <span class="comment">// external system executor and we need to protect our io_context</span></div>
<div class="line">        <span class="comment">// from stop until cancel continuation will be called. It is not</span></div>
<div class="line">        <span class="comment">// necessary if you already protect the io service with a work guard.</span></div>
<div class="line">        <span class="keyword">auto</span> guard = boost::asio::make_work_guard(io);</div>
<div class="line">        <span class="comment">// Cancel should be performed within 5 seconds, othervise the</span></div>
<div class="line">        <span class="comment">// coroutine will be released.</span></div>
<div class="line">        <a class="code" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">ozo::error_code</a> ec;</div>
<div class="line">        <span class="keyword">auto</span> error_msg = <a class="code" href="group__group-requests-functions.html#gac2f75325031cebef24cb0e7d21391ece">ozo::cancel</a>(std::move(handle), io, 5s, yield[ec]);</div>
<div class="line">        <span class="keywordflow">if</span> (ec) {</div>
<div class="line">            std::cerr &lt;&lt; ec.message() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; error_msg &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line">    <a class="code" href="group__group-requests-functions.html#ga347747678f21ede443893c1a0a9439d7">ozo::execute</a>(conn, <span class="stringliteral">&quot;SELECT pg_sleep(1000000)&quot;</span>_SQL, yield[ec]);</div>
<div class="line">    assert(ec == ozo::sqlstate::query_canceled);</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">io.run();</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gac7156732f8e7a141c5c1eaf5fa718c36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7156732f8e7a141c5c1eaf5fa718c36">&#9670;&nbsp;</a></span>execute() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConnectionProvider , typename BinaryQueryConvertible , typename CompletionToken &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_connection_provider.html">ConnectionProvider</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceozo_1_1_binary_query_convertible.html">BinaryQueryConvertible</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes query with no result data expected. </p>
<p>This function is time constrain free shortcut to <code><a class="el" href="group__group-requests-functions.html#gac7156732f8e7a141c5c1eaf5fa718c36" title="Executes query with no result data expected.">ozo::execute()</a></code> function. Its call is equal to <code>ozo::execute(provider, query, ozo::none, token)</code> call.</p>
<dl class="section note"><dt>Note</dt><dd>The function does not particitate in ADL since could be implemented via functional object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">provider</td><td>&mdash; connection provider object </td></tr>
    <tr><td class="paramname">query</td><td>&mdash; query object to execute </td></tr>
    <tr><td class="paramname">token</td><td>&mdash; operation <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deduced from <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </dd></dl>

<p class="reference">References <a class="el" href="group__group-core-functions.html#gafcdc8ea45e26815baaeebfa88313cd23">ozo::get_operation_initiator()</a>, and <a class="el" href="group__group-core-types.html#ga5dedeecb1a2753e4569e16a69b048608">ozo::none</a>.</p>

</div>
</div>
<a id="ga347747678f21ede443893c1a0a9439d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga347747678f21ede443893c1a0a9439d7">&#9670;&nbsp;</a></span>execute() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConnectionProvider , typename BinaryQueryConvertible , typename TimeConstraint , typename CompletionToken &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_connection_provider.html">ConnectionProvider</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceozo_1_1_binary_query_convertible.html">BinaryQueryConvertible</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeConstraint&#160;</td>
          <td class="paramname"><em>time_constraint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes query with no result data expected. </p>
<p>This function is same as <code><a class="el" href="group__group-requests-functions.html#gac093ec8cf86103a3588072066767c418" title="Executes query and retrives a result from a database with time constraint.">ozo::request()</a></code> function except it does not provide any result data. It suitable to use with <code>UPDATE</code> <code>INSERT</code> statements, or invoking procedures without result.</p>
<dl class="section note"><dt>Note</dt><dd>The function does not particitate in ADL since could be implemented via functional object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">provider</td><td>&mdash; connection provider object </td></tr>
    <tr><td class="paramname">query</td><td>&mdash; query object to execute </td></tr>
    <tr><td class="paramname">time_constraint</td><td>&mdash; request #TimeConstraint; this time constrain <b>includes</b> time for getting connection from provider. </td></tr>
    <tr><td class="paramname">token</td><td>&mdash; operation <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deduced from <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </dd></dl>

</div>
</div>
<a id="ga1106db25df90df046e088ba91b97194f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1106db25df90df046e088ba91b97194f">&#9670;&nbsp;</a></span>get_cancel_handle()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Connection , typename Executor  = boost::asio::system_executor&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classozo_1_1cancel__handle.html">cancel_handle</a>&lt; Executor &gt; ozo::get_cancel_handle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="interface_connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Executor &amp;&amp;&#160;</td>
          <td class="paramname"><em>executor</em> = <code>Executor{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get cancel handle for the cancel operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connection</td><td>&mdash; <code><a class="el" href="interface_connection.html" title="Database connection concept.">Connection</a></code> with active operation to cancel. </td></tr>
    <tr><td class="paramname">executor</td><td>&mdash; Executor on which the operation will be executed. Default executor is <code>boost::asio::system_executor</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>null-state object if given connection is in bad state. </dd>
<dd>
initialized object if given connection is in good state.</dd></dl>
<p>Since libpq's cancel operation implementation is synchronous only it would block a thread where executed. That's why it needs a dedicated Executor. User should specify an executor to implement a proper execution strategy, e.g. the operations' queue which would be handled in a dedicated thread and so on. </p>

<p class="reference">References <a class="el" href="group__group-connection-functions.html#gafb0ed4133d9b3c003f782c91ca46cc33">ozo::get_native_handle()</a>.</p>

</div>
</div>
<a id="gaa8cc125abd2b1db20d327aa333662d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8cc125abd2b1db20d327aa333662d3b">&#9670;&nbsp;</a></span>into() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr auto ozo::into </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classozo_1_1basic__result.html">basic_result</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shortcut for create reference wrapper for <code><a class="el" href="classozo_1_1basic__result.html" title="Database raw result representation.">ozo::basic_result</a></code>. </p>
<p>This shortcut creates reference wrapper for <code><a class="el" href="classozo_1_1basic__result.html" title="Database raw result representation.">ozo::basic_result</a></code> to obtain raw result into it.</p>
<h3>Example</h3>
<div class="fragment"><div class="line"><span class="comment">// Query statement</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> query = <span class="stringliteral">&quot;SELECT id, name FROM users_info WHERE amount&gt;=&quot;</span>_SQL + std::int64_t(25);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="classozo_1_1basic__result.html">ozo::result</a> res;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__group-requests-functions.html#gac093ec8cf86103a3588072066767c418">ozo::request</a>(conn_info[io], query, <a class="code" href="group__group-requests-functions.html#ga3e8f5ef58a370e79b7e554cd09fbc705">ozo::into</a>(res), boost::asio::use_future);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>&mdash; <code><a class="el" href="classozo_1_1basic__result.html" title="Database raw result representation.">ozo::basic_result</a></code> object for rows. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3e8f5ef58a370e79b7e554cd09fbc705"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e8f5ef58a370e79b7e554cd09fbc705">&#9670;&nbsp;</a></span>into() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr auto ozo::into </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shortcut for create result container back inserter. </p>
<p>This shortcut defines insert iterator for row container.</p>
<h3>Example</h3>
<div class="fragment"><div class="line"><span class="comment">// Query statement</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> query = <span class="stringliteral">&quot;SELECT id, name FROM users_info WHERE amount&gt;=&quot;</span>_SQL + std::int64_t(25);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__group-requests-types.html#gade9a42efa5064524382c2673de242f39">ozo::rows_of&lt;std::int64_t, std::string&gt;</a> rows;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__group-requests-functions.html#gac093ec8cf86103a3588072066767c418">ozo::request</a>(conn_info[io], query, <a class="code" href="group__group-requests-functions.html#ga3e8f5ef58a370e79b7e554cd09fbc705">ozo::into</a>(rows), boost::asio::use_future);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>&mdash; container for rows </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae49e5fcc96dfa7f120a39d7d099acb5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae49e5fcc96dfa7f120a39d7d099acb5e">&#9670;&nbsp;</a></span>request() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConnectionProvider , typename BinaryQueryConvertible , typename Out , typename CompletionToken &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_connection_provider.html">ConnectionProvider</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceozo_1_1_binary_query_convertible.html">BinaryQueryConvertible</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Out&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes query and retrives a result from a database. </p>
<p>This function is time constrain free shortcut to <code><a class="el" href="group__group-requests-functions.html#gae49e5fcc96dfa7f120a39d7d099acb5e" title="Executes query and retrives a result from a database.">ozo::request()</a></code> function. Its call is equal to <code>ozo::request(provider, query, ozo::none, out, token)</code> call.</p>
<dl class="section note"><dt>Note</dt><dd>The function does not participate in ADL since could be implemented via functional object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">provider</td><td>&mdash; connection provider to get connection from. </td></tr>
    <tr><td class="paramname">query</td><td>&mdash; query object to request from a database. </td></tr>
    <tr><td class="paramname">out</td><td>&mdash; output object like Iterator, <a class="el" href="interface_insert_iterator.html" title="Insert Iterator concept.">InsertIterator</a> or <code>ozo::result</code>. </td></tr>
    <tr><td class="paramname">token</td><td>&mdash; operation <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deduced from <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </dd></dl>

<p class="reference">References <a class="el" href="group__group-core-functions.html#gafcdc8ea45e26815baaeebfa88313cd23">ozo::get_operation_initiator()</a>, and <a class="el" href="group__group-core-types.html#ga5dedeecb1a2753e4569e16a69b048608">ozo::none</a>.</p>

</div>
</div>
<a id="gac093ec8cf86103a3588072066767c418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac093ec8cf86103a3588072066767c418">&#9670;&nbsp;</a></span>request() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConnectionProvider , typename BinaryQueryConvertible , typename TimeConstraint , typename Out , typename CompletionToken &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) ozo::request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_connection_provider.html">ConnectionProvider</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>provider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceozo_1_1_binary_query_convertible.html">BinaryQueryConvertible</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeConstraint&#160;</td>
          <td class="paramname"><em>time_constraint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Out&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_completion_token.html">CompletionToken</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes query and retrives a result from a database with time constraint. </p>
<p>The function sends request to a database and provides result via out parameter. The function can be called as any of Boost.Asio asynchronous function with <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. The request would be cancelled if time constrain is reached while performing.</p>
<dl class="section note"><dt>Note</dt><dd>The function does not participate in ADL since could be implemented via functional object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">provider</td><td>&mdash; connection provider object to get connection from. </td></tr>
    <tr><td class="paramname">query</td><td>&mdash; query object to request from a database. </td></tr>
    <tr><td class="paramname">time_constraint</td><td>&mdash; request #TimeConstraint; this time constrain <b>includes</b> time for getting connection from provider. </td></tr>
    <tr><td class="paramname">out</td><td>&mdash; output object like Iterator, <a class="el" href="interface_insert_iterator.html" title="Insert Iterator concept.">InsertIterator</a> or <code>ozo::result</code>. </td></tr>
    <tr><td class="paramname">token</td><td>&mdash; operation <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deduced from <a class="el" href="interface_completion_token.html" title="Completion token concept.">CompletionToken</a>.</dd></dl>
<h3>Example</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;ozo/request.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ozo/connection_info.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ozo/shortcuts.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;boost/asio.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    boost::asio::io_context io;</div>
<div class="line">    <a class="code" href="group__group-requests-types.html#gade9a42efa5064524382c2673de242f39">ozo::rows_of&lt;std::int64_t, std::optional&lt;std::string&gt;</a>&gt; rows;</div>
<div class="line">    <span class="keyword">auto</span> conn_info = <a class="code" href="classozo_1_1connection__info.html">ozo::connection_info</a>(<span class="stringliteral">&quot;host=... port=...&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using namespace </span>ozo::literals;</div>
<div class="line">    <span class="keyword">using namespace </span>std::chrono_literals;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> query = <span class="stringliteral">&quot;SELECT id, name FROM users_info WHERE amount&gt;=&quot;</span>_SQL + std::int64_t(25);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__group-requests-functions.html#gac093ec8cf86103a3588072066767c418">ozo::request</a>(conn_info[io], query, 500ms, <a class="code" href="group__group-requests-functions.html#ga3e8f5ef58a370e79b7e554cd09fbc705">ozo::into</a>(rows),</div>
<div class="line">            [&amp;](<a class="code" href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">ozo::error_code</a> ec, <span class="keyword">auto</span> conn) {</div>
<div class="line">        <span class="keywordflow">if</span> (ec) {</div>
<div class="line">            std::cerr &lt;&lt; ec.message() &lt;&lt; <span class="stringliteral">&quot; | &quot;</span> &lt;&lt; <a class="code" href="group__group-connection-functions.html#gad1d7e52e998faef0eb5ea3767ca1ca70">error_message</a>(conn);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="code" href="group__group-core-functions.html#ga602abbe1728381084559b85c3835b9bb">is_null_recursive</a>(conn)) {</div>
<div class="line">                std::cerr &lt;&lt; <span class="stringliteral">&quot; | &quot;</span> &lt;&lt; <a class="code" href="group__group-connection-functions.html#ga27c523e2a2ef378b8a87681bdb58598b">get_error_context</a>(conn);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        };</div>
<div class="line">        assert(<a class="code" href="group__group-connection-functions.html#ga7d3c90effeb56a4e233fcfa959ce5e6e">ozo::connection_good</a>(conn));</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;id&quot;</span> &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; <span class="stringliteral">&quot;name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; row: res) {</div>
<div class="line">            std::cout &lt;&lt; std::get&lt;0&gt;(row) &lt;&lt; <span class="charliteral">&#39;\t&#39;</span></div>
<div class="line">                    &lt;&lt; std::get&lt;1&gt;(row) &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line">    io.run();</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__group-requests-functions_html_gac093ec8cf86103a3588072066767c418"><div class="ttname"><a href="group__group-requests-functions.html#gac093ec8cf86103a3588072066767c418">ozo::request</a></div><div class="ttdeci">decltype(auto) request(ConnectionProvider &amp;&amp;provider, BinaryQueryConvertible &amp;&amp;query, TimeConstraint time_constraint, Out out, CompletionToken &amp;&amp;token)</div><div class="ttdoc">Executes query and retrives a result from a database with time constraint.</div></div>
<div class="ttc" id="agroup__group-errors_html_ga8757df037905ea8c9b69073e350dd731"><div class="ttname"><a href="group__group-errors.html#ga8757df037905ea8c9b69073e350dd731">ozo::error_code</a></div><div class="ttdeci">boost::system::error_code error_code</div><div class="ttdoc">Error code representation of the library.</div><div class="ttdef"><b>Definition:</b> error.h:38</div></div>
<div class="ttc" id="agroup__group-connection-functions_html_gad1d7e52e998faef0eb5ea3767ca1ca70"><div class="ttname"><a href="group__group-connection-functions.html#gad1d7e52e998faef0eb5ea3767ca1ca70">ozo::error_message</a></div><div class="ttdeci">std::string_view error_message(const Connection &amp;conn)</div><div class="ttdoc">Get native libpq error message.</div><div class="ttdef"><b>Definition:</b> connection.h:97</div></div>
<div class="ttc" id="agroup__group-requests-types_html_gade9a42efa5064524382c2673de242f39"><div class="ttname"><a href="group__group-requests-types.html#gade9a42efa5064524382c2673de242f39">ozo::rows_of</a></div><div class="ttdeci">std::vector&lt; typed_row&lt; Ts... &gt; &gt; rows_of</div><div class="ttdoc">Shortcut for easy result container definition.</div><div class="ttdef"><b>Definition:</b> shortcuts.h:37</div></div>
<div class="ttc" id="agroup__group-requests-functions_html_ga3e8f5ef58a370e79b7e554cd09fbc705"><div class="ttname"><a href="group__group-requests-functions.html#ga3e8f5ef58a370e79b7e554cd09fbc705">ozo::into</a></div><div class="ttdeci">constexpr auto into(T &amp;v)</div><div class="ttdoc">Shortcut for create result container back inserter.</div><div class="ttdef"><b>Definition:</b> shortcuts.h:85</div></div>
<div class="ttc" id="agroup__group-requests-functions_html_ga347747678f21ede443893c1a0a9439d7"><div class="ttname"><a href="group__group-requests-functions.html#ga347747678f21ede443893c1a0a9439d7">ozo::execute</a></div><div class="ttdeci">decltype(auto) execute(ConnectionProvider &amp;&amp;provider, BinaryQueryConvertible &amp;&amp;query, TimeConstraint time_constraint, CompletionToken &amp;&amp;token)</div><div class="ttdoc">Executes query with no result data expected.</div></div>
<div class="ttc" id="agroup__group-core-functions_html_ga602abbe1728381084559b85c3835b9bb"><div class="ttname"><a href="group__group-core-functions.html#ga602abbe1728381084559b85c3835b9bb">ozo::is_null_recursive</a></div><div class="ttdeci">constexpr bool is_null_recursive(T &amp;&amp;v) noexcept</div><div class="ttdoc">Indicates if one of unwrapped values is in null state.</div><div class="ttdef"><b>Definition:</b> recursive.h:78</div></div>
<div class="ttc" id="aclassozo_1_1connection__info_html"><div class="ttname"><a href="classozo_1_1connection__info.html">ozo::connection_info</a></div><div class="ttdoc">Connection source to a single host.</div><div class="ttdef"><b>Definition:</b> connection_info.h:28</div></div>
<div class="ttc" id="agroup__group-connection-functions_html_gab47cb829921abe2e3a7097362874e415"><div class="ttname"><a href="group__group-connection-functions.html#gab47cb829921abe2e3a7097362874e415">ozo::get_connection</a></div><div class="ttdeci">decltype(auto) get_connection(T &amp;&amp;provider, TimeConstraint time_constraint, CompletionToken &amp;&amp;token)</div><div class="ttdoc">Get a connection object from connection provider with time constaint.</div></div>
<div class="ttc" id="agroup__group-requests-functions_html_ga1106db25df90df046e088ba91b97194f"><div class="ttname"><a href="group__group-requests-functions.html#ga1106db25df90df046e088ba91b97194f">ozo::get_cancel_handle</a></div><div class="ttdeci">cancel_handle&lt; Executor &gt; get_cancel_handle(const Connection &amp;connection, Executor &amp;&amp;executor=Executor{})</div><div class="ttdoc">Get cancel handle for the cancel operation.</div><div class="ttdef"><b>Definition:</b> cancel.h:157</div></div>
<div class="ttc" id="agroup__group-requests-functions_html_gac2f75325031cebef24cb0e7d21391ece"><div class="ttname"><a href="group__group-requests-functions.html#gac2f75325031cebef24cb0e7d21391ece">ozo::cancel</a></div><div class="ttdeci">auto cancel(cancel_handle&lt; Executor &gt; &amp;&amp;handle, io_context &amp;io, TimeConstraint time_constraint, CancelCompletionToken &amp;&amp;token)</div><div class="ttdoc">Cancel execution of current request on a database backend.</div></div>
<div class="ttc" id="agroup__group-connection-functions_html_ga7d3c90effeb56a4e233fcfa959ce5e6e"><div class="ttname"><a href="group__group-connection-functions.html#ga7d3c90effeb56a4e233fcfa959ce5e6e">ozo::connection_good</a></div><div class="ttdeci">bool connection_good(const Connection &amp;conn) noexcept</div><div class="ttdoc">Indicates if connection state is not bad.</div><div class="ttdef"><b>Definition:</b> connection.h:391</div></div>
<div class="ttc" id="aclassozo_1_1basic__result_html"><div class="ttname"><a href="classozo_1_1basic__result.html">ozo::basic_result</a></div><div class="ttdoc">Database raw result representation.</div><div class="ttdef"><b>Definition:</b> result.h:263</div></div>
<div class="ttc" id="agroup__group-connection-functions_html_ga27c523e2a2ef378b8a87681bdb58598b"><div class="ttname"><a href="group__group-connection-functions.html#ga27c523e2a2ef378b8a87681bdb58598b">ozo::get_error_context</a></div><div class="ttdeci">const auto &amp; get_error_context(const Connection &amp;conn)</div><div class="ttdoc">Get additional error context.</div><div class="ttdef"><b>Definition:</b> connection.h:124</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
